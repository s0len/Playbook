
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Sonarr for Sports – Automated file matching, renaming, and metadata for sports content in Plex.">
      
      
      
        <link rel="canonical" href="https://s0len.github.io/Playbook/getting-started/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../configuration/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Getting Started - Playbook</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Playbook" class="md-header__button md-logo" aria-label="Playbook" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Playbook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/s0len/playbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    s0len/playbook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Introduction

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../configuration/" class="md-tabs__link">
        
  
  
    
  
  Configuration Guide

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../operations/" class="md-tabs__link">
        
  
  
    
  
  Operations & Run Modes

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../integrations/" class="md-tabs__link">
        
  
  
    
  
  Integrations

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../recipes/" class="md-tabs__link">
        
  
  
    
  
  Recipes & How-tos

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../troubleshooting/" class="md-tabs__link">
        
  
  
    
  
  Troubleshooting & FAQ

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../developer-guide/" class="md-tabs__link">
        
  
  
    
  
  Developer Guide

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Playbook" class="md-nav__button md-logo" aria-label="Playbook" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    Playbook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/s0len/playbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    s0len/playbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Before You Start
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation Methods
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-a-docker-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option A: Docker (Recommended)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option A: Docker (Recommended)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-test-with-a-dry-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Test with a dry-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-run-continuously" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Run continuously
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environment Variables Reference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-b-python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option B: Python Environment
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option B: Python Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-a-virtual-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Create a virtual environment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-validate-your-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Validate your config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-test-with-a-dry-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Test with a dry-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-run-continuously-watcher-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Run continuously (watcher mode)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useful-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Useful Environment Variables
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-c-kubernetes-flux-helmrelease" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option C: Kubernetes (Flux HelmRelease)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option C: Kubernetes (Flux HelmRelease)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisites
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-configuration-notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Configuration Notes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deployment Checklist
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-run-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Run Checklist
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="First Run Checklist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-validate-your-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Validate Your Config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-run-a-dry-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Run a Dry-Run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-review-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Review Logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-test-the-real-thing" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Test the Real Thing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-point-plex-at-the-destination" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Point Plex at the Destination
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-enable-continuous-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Enable Continuous Processing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Enable Continuous Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-detached-with-watcher" class="md-nav__link">
    <span class="md-ellipsis">
      
        Docker (detached with watcher)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-watcher-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Python (watcher mode)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      
        What's Next?
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Operations & Run Modes
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recipes & How-tos
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting & FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer Guide
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Before You Start
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation Methods
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-a-docker-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option A: Docker (Recommended)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option A: Docker (Recommended)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-test-with-a-dry-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Test with a dry-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-run-continuously" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Run continuously
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environment Variables Reference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-b-python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option B: Python Environment
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option B: Python Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-a-virtual-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Create a virtual environment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-validate-your-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Validate your config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-test-with-a-dry-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Test with a dry-run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-run-continuously-watcher-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Run continuously (watcher mode)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useful-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Useful Environment Variables
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-c-kubernetes-flux-helmrelease" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option C: Kubernetes (Flux HelmRelease)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option C: Kubernetes (Flux HelmRelease)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisites
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-configuration-notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Configuration Notes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deployment Checklist
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-run-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Run Checklist
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="First Run Checklist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-validate-your-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Validate Your Config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-run-a-dry-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Run a Dry-Run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-review-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Review Logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-test-the-real-thing" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Test the Real Thing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-point-plex-at-the-destination" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Point Plex at the Destination
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-enable-continuous-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Enable Continuous Processing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Enable Continuous Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-detached-with-watcher" class="md-nav__link">
    <span class="md-ellipsis">
      
        Docker (detached with watcher)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-watcher-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Python (watcher mode)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      
        What's Next?
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h1>
<p>This guide walks you through installing Playbook, configuring your first sport, and verifying everything works before letting it run automatically. You can deploy via Docker (recommended), Python virtual environment, or Kubernetes.</p>
<h2 id="quick-overview">Quick Overview<a class="headerlink" href="#quick-overview" title="Permanent link">&para;</a></h2>
<p><strong>All sports are enabled by default!</strong> Every deployment needs just three things:</p>
<ol>
<li><strong>A config file</strong> (<code>playbook.yaml</code>) with your directory paths</li>
<li><strong>Three directories</strong>: source (downloads), destination (Plex library), and cache (metadata storage)</li>
<li><strong>Network access</strong> to TVSportsDB API (metadata source for show/season/episode information)</li>
</ol>
<p>Playbook automatically processes Formula 1, MotoGP, UFC, NFL, NBA, NHL, Premier League, Champions League, Figure Skating, and more. No need to configure individual sports unless you want to customize or disable them.</p>
<p>All deployment methods use the same config schema and produce identical folder layouts in your Plex library.</p>
<h2 id="before-you-start">Before You Start<a class="headerlink" href="#before-you-start" title="Permanent link">&para;</a></h2>
<p>Before installing, gather this information:</p>
<ul>
<li><strong>Source directory</strong> – where your torrent client/downloader saves files (e.g., <code>/downloads/sport</code>)</li>
<li><strong>Destination directory</strong> – your Plex library path (e.g., <code>/library/sport</code>)</li>
<li><strong>Cache directory</strong> – persistent storage for metadata and state (e.g., <code>/cache/playbook</code>)</li>
</ul>
<p>Then:</p>
<ol>
<li>Copy <code>config/playbook.sample.yaml</code> to your preferred location (Docker defaults to <code>/config/playbook.yaml</code>)</li>
<li>Edit the config to set <code>SOURCE_DIR</code>, <code>DESTINATION_DIR</code>, and <code>CACHE_DIR</code> (or provide them as environment variables)</li>
<li><em>(Optional)</em> Disable sports you don't want using <code>disabled_sports: [sport_id, ...]</code></li>
<li>Validate your config: <code>playbook validate-config --config playbook.yaml --diff-sample</code></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Minimal Configuration</p>
<p>With default sports enabled, your config can be as simple as:
<div class="highlight"><pre><span></span><code><span class="nt">settings</span><span class="p">:</span>
<span class="w">  </span><span class="nt">source_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/downloads/sport</span>
<span class="w">  </span><span class="nt">destination_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/library/sport</span>
<span class="w">  </span><span class="nt">cache_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/cache/playbook</span>
</code></pre></div>
All 16 sports (26 variants) will be processed automatically!</p>
</div>
<h2 id="installation-methods">Installation Methods<a class="headerlink" href="#installation-methods" title="Permanent link">&para;</a></h2>
<p>Choose the deployment method that fits your setup. All methods use the same config file and produce identical results.</p>
<h3 id="option-a-docker-recommended">Option A: Docker (Recommended)<a class="headerlink" href="#option-a-docker-recommended" title="Permanent link">&para;</a></h3>
<h4 id="step-1-test-with-a-dry-run">Step 1: Test with a dry-run<a class="headerlink" href="#step-1-test-with-a-dry-run" title="Permanent link">&para;</a></h4>
<p>Before running continuously, validate your setup with a one-shot dry-run:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-it<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">DRY_RUN</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">VERBOSE</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">SOURCE_DIR</span><span class="o">=</span><span class="s2">&quot;/downloads&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">DESTINATION_DIR</span><span class="o">=</span><span class="s2">&quot;/library&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">CACHE_DIR</span><span class="o">=</span><span class="s2">&quot;/cache&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/your/config:/config<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/downloads:/downloads<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/library:/library<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/cache:/cache<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>ghcr.io/s0len/playbook:latest
</code></pre></div>
<p>Replace <code>/path/to/...</code> with your actual host directories. This command:</p>
<ul>
<li>Runs once and exits (<code>--rm</code>)</li>
<li>Shows what would happen without moving files (<code>DRY_RUN=true</code>)</li>
<li>Prints detailed matching logic (<code>VERBOSE=true</code>)</li>
<li>Validates config and metadata access</li>
</ul>
<h4 id="step-2-run-continuously">Step 2: Run continuously<a class="headerlink" href="#step-2-run-continuously" title="Permanent link">&para;</a></h4>
<p>Once the dry-run looks good, run detached:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--name<span class="w"> </span>playbook<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">TZ</span><span class="o">=</span><span class="s2">&quot;UTC&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">SOURCE_DIR</span><span class="o">=</span><span class="s2">&quot;/downloads&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">DESTINATION_DIR</span><span class="o">=</span><span class="s2">&quot;/library&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">CACHE_DIR</span><span class="o">=</span><span class="s2">&quot;/cache&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">WATCH_MODE</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/your/config:/config<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/downloads:/downloads<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/library:/library<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/cache:/cache<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>ghcr.io/s0len/playbook:latest
</code></pre></div>
<h4 id="environment-variables-reference">Environment Variables Reference<a class="headerlink" href="#environment-variables-reference" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Purpose</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SOURCE_DIR</code></td>
<td>Where downloads land (required)</td>
<td><code>/downloads</code></td>
</tr>
<tr>
<td><code>DESTINATION_DIR</code></td>
<td>Plex library path (required)</td>
<td><code>/library</code></td>
</tr>
<tr>
<td><code>CACHE_DIR</code></td>
<td>Metadata/state storage (required)</td>
<td><code>/cache</code></td>
</tr>
<tr>
<td><code>WATCH_MODE</code></td>
<td>Keep running and watch for new files</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>DRY_RUN</code></td>
<td>Simulate without moving files</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>VERBOSE</code></td>
<td>Detailed matching logs</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>LOG_LEVEL</code></td>
<td>Logging verbosity</td>
<td><code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code></td>
</tr>
</tbody>
</table>
<h4 id="monitoring">Monitoring<a class="headerlink" href="#monitoring" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Tail live logs</span>
docker<span class="w"> </span>logs<span class="w"> </span>-f<span class="w"> </span>playbook

<span class="c1"># Check container status</span>
docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>playbook
</code></pre></div>
<h3 id="option-b-python-environment">Option B: Python Environment<a class="headerlink" href="#option-b-python-environment" title="Permanent link">&para;</a></h3>
<p>Use this method for local development, testing, or if you prefer managing Python dependencies directly:</p>
<h4 id="step-1-create-a-virtual-environment">Step 1: Create a virtual environment<a class="headerlink" href="#step-1-create-a-virtual-environment" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>.venv
<span class="nb">source</span><span class="w"> </span>.venv/bin/activate<span class="w">  </span><span class="c1"># On Windows: .venv\Scripts\activate</span>
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div>
<h4 id="step-2-validate-your-config">Step 2: Validate your config<a class="headerlink" href="#step-2-validate-your-config" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>playbook.cli<span class="w"> </span>validate-config<span class="w"> </span>--config<span class="w"> </span>/path/to/playbook.yaml<span class="w"> </span>--diff-sample
</code></pre></div>
<h4 id="step-3-test-with-a-dry-run">Step 3: Test with a dry-run<a class="headerlink" href="#step-3-test-with-a-dry-run" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SOURCE_DIR</span><span class="o">=</span><span class="s2">&quot;/path/to/downloads&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DESTINATION_DIR</span><span class="o">=</span><span class="s2">&quot;/path/to/library&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">CACHE_DIR</span><span class="o">=</span><span class="s2">&quot;/path/to/cache&quot;</span>

python<span class="w"> </span>-m<span class="w"> </span>playbook.cli<span class="w"> </span>process<span class="w"> </span>--config<span class="w"> </span>/path/to/playbook.yaml<span class="w"> </span>--dry-run<span class="w"> </span>--verbose
</code></pre></div>
<h4 id="step-4-run-continuously-watcher-mode">Step 4: Run continuously (watcher mode)<a class="headerlink" href="#step-4-run-continuously-watcher-mode" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">WATCH_MODE</span><span class="o">=</span><span class="nb">true</span>
python<span class="w"> </span>-m<span class="w"> </span>playbook.cli<span class="w"> </span>watch<span class="w"> </span>--config<span class="w"> </span>/path/to/playbook.yaml
</code></pre></div>
<h4 id="useful-environment-variables">Useful Environment Variables<a class="headerlink" href="#useful-environment-variables" title="Permanent link">&para;</a></h4>
<p>Same as Docker – set <code>SOURCE_DIR</code>, <code>DESTINATION_DIR</code>, <code>CACHE_DIR</code>, <code>LOG_LEVEL</code>, <code>VERBOSE</code>, etc. before running commands.</p>
<h3 id="option-c-kubernetes-flux-helmrelease">Option C: Kubernetes (Flux HelmRelease)<a class="headerlink" href="#option-c-kubernetes-flux-helmrelease" title="Permanent link">&para;</a></h3>
<p>Use this method if you're running a Flux-based Kubernetes cluster. This example uses the <a href="https://github.com/bjw-s/helm-charts/tree/main/charts/other/app-template">bjw-s/app-template</a> chart to deploy Playbook as a single-pod deployment with persistent storage:</p>
<h4 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h4>
<ul>
<li>A running Kubernetes cluster with Flux installed</li>
<li>Persistent storage provisioner (or NFS access)</li>
<li>bjw-s app-template OCIRepository configured in Flux</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="c1"># yaml-language-server: $schema=https://raw.githubusercontent.com/bjw-s-labs/helm-charts/main/charts/other/app-template/schemas/helmrelease-helm-v2.schema.json</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">helm.toolkit.fluxcd.io/v2</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HelmRelease</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;app</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">playbook</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30m</span>
<span class="w">  </span><span class="nt">chartRef</span><span class="p">:</span>
<span class="w">    </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OCIRepository</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app-template</span>
<span class="w">  </span><span class="nt">install</span><span class="p">:</span>
<span class="w">    </span><span class="nt">remediation</span><span class="p">:</span>
<span class="w">      </span><span class="nt">retries</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">  </span><span class="nt">upgrade</span><span class="p">:</span>
<span class="w">    </span><span class="nt">cleanupOnFail</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">remediation</span><span class="p">:</span>
<span class="w">      </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rollback</span>
<span class="w">      </span><span class="nt">retries</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>

<span class="w">  </span><span class="nt">values</span><span class="p">:</span>
<span class="w">    </span><span class="nt">serviceAccount</span><span class="p">:</span>
<span class="w">      </span><span class="nt">playbook</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>

<span class="w">    </span><span class="nt">controllers</span><span class="p">:</span>
<span class="w">      </span><span class="nt">main</span><span class="p">:</span>
<span class="w">        </span><span class="nt">serviceAccount</span><span class="p">:</span>
<span class="w">          </span><span class="nt">identifier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">playbook</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deployment</span>
<span class="w">        </span><span class="nt">containers</span><span class="p">:</span>
<span class="w">          </span><span class="nt">app</span><span class="p">:</span>
<span class="w">            </span><span class="nt">image</span><span class="p">:</span>
<span class="w">              </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ghcr.io/s0len/playbook</span>
<span class="w">              </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">develop@sha256:6248cac4f5aeb9403a88f919e522e96291e3c93eb018c289aff4dbfef92ec5fa</span>
<span class="w">              </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Always</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span>
<span class="w">              </span><span class="nt">CACHE_DIR</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/settings/cache</span>
<span class="w">              </span><span class="nt">CLEAR_PROCESSED_CACHE</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">              </span><span class="nt">CONFIG_PATH</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/config/config.yaml</span>
<span class="w">              </span><span class="nt">DRY_RUN</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">              </span><span class="nt">DESTINATION_DIR</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data/media/sport</span>
<span class="w">              </span><span class="nt">LOG_DIR</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp</span>
<span class="w">              </span><span class="nt">LOG_LEVEL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INFO</span>
<span class="w">              </span><span class="nt">SOURCE_DIR</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data/torrents/sport</span>
<span class="w">            </span><span class="nt">envFrom</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">secretRef</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">playbook-secret</span>
<span class="w">            </span><span class="nt">securityContext</span><span class="p">:</span>
<span class="w">              </span><span class="nt">privileged</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">        </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">          </span><span class="nt">reloader.stakater.com/auto</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;true&quot;</span>

<span class="w">    </span><span class="nt">defaultPodOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">automountServiceAccountToken</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">enableServiceLinks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">securityContext</span><span class="p">:</span>
<span class="w">        </span><span class="nt">runAsUser</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">568</span>
<span class="w">        </span><span class="nt">runAsGroup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">568</span>
<span class="w">        </span><span class="nt">runAsNonRoot</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">fsGroup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">568</span>

<span class="w">    </span><span class="nt">persistence</span><span class="p">:</span>
<span class="w">      </span><span class="nt">settings</span><span class="p">:</span>
<span class="w">        </span><span class="nt">existingClaim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">playbook-settings</span>
<span class="w">        </span><span class="nt">globalMounts</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/settings</span>
<span class="w">            </span><span class="nt">readOnly</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="w">      </span><span class="nt">tmp</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">emptyDir</span>
<span class="w">        </span><span class="nt">medium</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Memory</span>
<span class="w">        </span><span class="nt">globalMounts</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp</span>

<span class="w">      </span><span class="nt">data</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nfs</span>
<span class="w">        </span><span class="nt">server</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${TRUENAS_IP}&quot;</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/mnt/rust/data</span>
<span class="w">        </span><span class="nt">globalMounts</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data</span>
<span class="w">            </span><span class="nt">readOnly</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">configMap</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">playbook-configmap</span>
<span class="w">        </span><span class="nt">globalMounts</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/config/config.yaml</span>
<span class="w">            </span><span class="nt">subPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">config.yaml</span>
<span class="w">            </span><span class="nt">readOnly</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h4 id="key-configuration-notes">Key Configuration Notes<a class="headerlink" href="#key-configuration-notes" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Image tag</strong>: Use <code>latest</code> for stable releases or <code>develop</code> for bleeding edge (pin to digest for reproducibility)</li>
<li><strong>Environment variables</strong>: Set <code>SOURCE_DIR</code>, <code>DESTINATION_DIR</code>, <code>CACHE_DIR</code> to match your persistent volume mount paths</li>
<li><strong>Config file</strong>: Mount via ConfigMap or Secret (this example uses a ConfigMap at <code>/config/config.yaml</code>)</li>
<li><strong>Secrets</strong>: Store sensitive values (API keys, webhook URLs) in a <code>playbook-secret</code>, reference it with <code>envFrom</code>, and point <code>notifications.targets[].webhook_env</code> at the relevant variable (e.g., <code>DISCORD_WEBHOOK_URL</code>)</li>
<li><strong>Persistent storage</strong>: Cache directory should survive pod restarts (use PVC or NFS)</li>
<li><strong>Watcher mode</strong>: Enable <code>WATCH_MODE=true</code> or <code>file_watcher.enabled: true</code> in config for continuous processing</li>
<li><strong>Automatic reloads</strong>: Add <code>reloader.stakater.com/auto: "true"</code> annotation to restart when ConfigMap changes</li>
</ul>
<h4 id="deployment-checklist">Deployment Checklist<a class="headerlink" href="#deployment-checklist" title="Permanent link">&para;</a></h4>
<ol>
<li>Create the secret: <code>kubectl create secret generic playbook-secret --from-literal=DISCORD_WEBHOOK=https://...</code></li>
<li>Create the ConfigMap with your <code>playbook.yaml</code> content: <code>kubectl create configmap playbook-configmap --from-file=config.yaml=playbook.yaml</code></li>
<li>Apply the HelmRelease manifest</li>
<li>Check logs: <code>kubectl logs -f deployment/playbook</code></li>
<li>Verify processing: watch destination directory for new files</li>
</ol>
<h2 id="first-run-checklist">First Run Checklist<a class="headerlink" href="#first-run-checklist" title="Permanent link">&para;</a></h2>
<p>Follow these steps in order to ensure everything works before running automatically:</p>
<h3 id="1-validate-your-config">1. Validate Your Config<a class="headerlink" href="#1-validate-your-config" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Docker</span>
docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-it<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/your/config:/config<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>ghcr.io/s0len/playbook:latest<span class="w"> </span>validate-config<span class="w"> </span>--config<span class="w"> </span>/config/playbook.yaml<span class="w"> </span>--diff-sample

<span class="c1"># Python</span>
python<span class="w"> </span>-m<span class="w"> </span>playbook.cli<span class="w"> </span>validate-config<span class="w"> </span>--config<span class="w"> </span>playbook.yaml<span class="w"> </span>--diff-sample
</code></pre></div>
<p>This command:</p>
<ul>
<li>Checks YAML syntax and required fields</li>
<li>Validates pattern templates and matching logic</li>
<li>Shows differences from the sample config</li>
<li>Confirms metadata URLs are accessible</li>
</ul>
<h3 id="2-run-a-dry-run">2. Run a Dry-Run<a class="headerlink" href="#2-run-a-dry-run" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Docker</span>
docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-it<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">DRY_RUN</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">VERBOSE</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">SOURCE_DIR</span><span class="o">=</span><span class="s2">&quot;/downloads&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">DESTINATION_DIR</span><span class="o">=</span><span class="s2">&quot;/library&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">CACHE_DIR</span><span class="o">=</span><span class="s2">&quot;/cache&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/your/config:/config<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/downloads:/downloads<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/library:/library<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/cache:/cache<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>ghcr.io/s0len/playbook:latest

<span class="c1"># Python</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SOURCE_DIR</span><span class="o">=</span><span class="s2">&quot;/path/to/downloads&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DESTINATION_DIR</span><span class="o">=</span><span class="s2">&quot;/path/to/library&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">CACHE_DIR</span><span class="o">=</span><span class="s2">&quot;/path/to/cache&quot;</span>
python<span class="w"> </span>-m<span class="w"> </span>playbook.cli<span class="w"> </span>process<span class="w"> </span>--config<span class="w"> </span>playbook.yaml<span class="w"> </span>--dry-run<span class="w"> </span>--verbose
</code></pre></div>
<p>Look for:</p>
<ul>
<li><strong>Matched files</strong>: Confirm the pattern matched expected downloads</li>
<li><strong>Destination paths</strong>: Verify the Plex folder structure looks correct</li>
<li><strong>Skipped files</strong>: Understand why some files weren't processed</li>
<li><strong>API responses</strong>: Check that TVSportsDB metadata loaded successfully</li>
</ul>
<h3 id="3-review-logs">3. Review Logs<a class="headerlink" href="#3-review-logs" title="Permanent link">&para;</a></h3>
<p>Check <code>playbook.log</code> (or <code>docker logs</code>) for:</p>
<ul>
<li>Files successfully matched and their destination paths</li>
<li>Any pattern matching failures or unmatched files</li>
<li>Kometa/Autoscan trigger notifications (if enabled)</li>
<li>Cache warming progress (first run downloads all metadata)</li>
</ul>
<h3 id="4-test-the-real-thing">4. Test the Real Thing<a class="headerlink" href="#4-test-the-real-thing" title="Permanent link">&para;</a></h3>
<p>Remove <code>DRY_RUN=true</code> and run a single batch:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Docker (one-shot)</span>
docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-it<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">SOURCE_DIR</span><span class="o">=</span><span class="s2">&quot;/downloads&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">DESTINATION_DIR</span><span class="o">=</span><span class="s2">&quot;/library&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">CACHE_DIR</span><span class="o">=</span><span class="s2">&quot;/cache&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/your/config:/config<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/downloads:/downloads<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/library:/library<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/cache:/cache<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>ghcr.io/s0len/playbook:latest
</code></pre></div>
<p>Verify:</p>
<ul>
<li>Files moved to correct destination folders</li>
<li>Filenames follow Plex conventions (e.g., <code>S2024E05 - Round 5 - Monaco Grand Prix.mkv</code>)</li>
<li>Original source files cleaned up (or preserved if <code>preserve_source: true</code>)</li>
</ul>
<h3 id="5-point-plex-at-the-destination">5. Point Plex at the Destination<a class="headerlink" href="#5-point-plex-at-the-destination" title="Permanent link">&para;</a></h3>
<p>Add your destination directory as a TV library in Plex:</p>
<ul>
<li>Library type: <strong>TV Shows</strong></li>
<li>Scanner: <strong>Plex Series Scanner</strong></li>
<li>Agent: <strong>Plex TV Series</strong> (metadata will be enriched by Kometa)</li>
</ul>
<p>Scan the library and confirm shows/seasons/episodes appear.</p>
<h3 id="6-enable-continuous-processing">6. Enable Continuous Processing<a class="headerlink" href="#6-enable-continuous-processing" title="Permanent link">&para;</a></h3>
<p>Once everything looks good, enable watcher mode or schedule regular runs:</p>
<h4 id="docker-detached-with-watcher">Docker (detached with watcher)<a class="headerlink" href="#docker-detached-with-watcher" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--name<span class="w"> </span>playbook<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">WATCH_MODE</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">SOURCE_DIR</span><span class="o">=</span><span class="s2">&quot;/downloads&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">DESTINATION_DIR</span><span class="o">=</span><span class="s2">&quot;/library&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">CACHE_DIR</span><span class="o">=</span><span class="s2">&quot;/cache&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/your/config:/config<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/downloads:/downloads<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/library:/library<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>/path/to/cache:/cache<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>ghcr.io/s0len/playbook:latest
</code></pre></div>
<h4 id="python-watcher-mode">Python (watcher mode)<a class="headerlink" href="#python-watcher-mode" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">WATCH_MODE</span><span class="o">=</span><span class="nb">true</span>
python<span class="w"> </span>-m<span class="w"> </span>playbook.cli<span class="w"> </span>watch<span class="w"> </span>--config<span class="w"> </span>playbook.yaml
</code></pre></div>
<h4 id="kubernetes">Kubernetes<a class="headerlink" href="#kubernetes" title="Permanent link">&para;</a></h4>
<p>Already running continuously with the HelmRelease</p>
<h2 id="whats-next">What's Next?<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h2>
<ul>
<li><strong><a href="../configuration/">Configuration Guide</a></strong> – deep dive into all YAML options, pattern syntax, and templating</li>
<li><strong><a href="../integrations/">Integrations</a></strong> – connect Kometa for metadata, Autoscan for instant Plex updates, Autobrr for automatic downloads</li>
<li><strong><a href="../recipes/">Recipes</a></strong> – sport-specific examples (F1, MotoGP, UFC, etc.) and custom pattern tutorials</li>
<li><strong><a href="../troubleshooting/">Troubleshooting</a></strong> – common issues, cache resets, debugging tips</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.sections", "navigation.top", "content.code.copy", "search.highlight", "search.suggest"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>