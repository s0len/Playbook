######################################################################
# Playbook Sample Configuration
######################################################################
# All supported sports are ENABLED BY DEFAULT - just configure your
# directories and integrations, then run!
#
# Built-in sports: Formula 1, MotoGP, UFC, NFL, NBA, NHL, Premier League,
# Champions League, Figure Skating, IndyCar, Moto2/3, WSBK, WTA, and more.
#
# To disable specific sports: add them to `disabled_sports`
# To customize a sport: add it to `sports` with your overrides
######################################################################

settings:
  # Required directories
  source_dir: ${SOURCE_DIR:-/data/source}
  destination_dir: ${DESTINATION_DIR:-/data/destination}
  cache_dir: ${CACHE_DIR:-/var/cache/playbook}

  # Execution behavior
  dry_run: false
  skip_existing: true
  link_mode: hardlink  # hardlink | copy | symlink

  # Disable specific sports by ID (all enabled by default)
  disabled_sports: []
    # - formula_e
    # - moto2
    # - indycar

  ####################################################################
  # INTEGRATIONS - Media server connections
  ####################################################################
  integrations:
    plex:
      # Connection (can use env vars: PLEX_URL, PLEX_TOKEN, PLEX_LIBRARY_NAME)
      url: ${PLEX_URL:-http://plex:32400}
      token: ${PLEX_TOKEN:-}
      library_name: ${PLEX_LIBRARY_NAME:-Sports}

      # Sync metadata (titles, summaries, posters) from TVSportsDB to Plex
      metadata_sync:
        enabled: false
        timeout: 15
        scan_wait: 5

      # Trigger Plex library scan when files are linked
      scan_on_activity:
        enabled: false
        rewrite: []  # Path mapping if Plex sees different paths
          # - from: /data/destination
          #   to: /mnt/plex/media

    # Alternative: Use Autoscan instead of direct Plex API
    autoscan:
      enabled: false
      url: ${AUTOSCAN_URL:-http://autoscan:3030}
      trigger: manual
      username: ${AUTOSCAN_USERNAME:-}
      password: ${AUTOSCAN_PASSWORD:-}
      rewrite: []

  ####################################################################
  # NOTIFICATIONS - Alerts for new files
  ####################################################################
  notifications:
    summary_mode: false  # One summary per scan instead of per-file
    targets:
      - type: discord
        webhook_env: DISCORD_WEBHOOK_URL  # Or use webhook_url directly
        # mentions:
        #   formula1: "<@&123456789>"
      # - type: slack
      #   webhook_url: https://hooks.slack.com/...
      # - type: webhook
      #   url: https://example.com/webhook

  ####################################################################
  # QUALITY PROFILE - Score-based upgrades (optional)
  ####################################################################
  quality_profile:
    enabled: false
    scoring:
      resolution:
        2160p: 400
        1080p: 300
        720p: 200
      source:
        webdl: 90
        webrip: 70
        hdtv: 50
      frame_rate:
        "60": 100
        "50": 75
      release_group: {}
        # mwr: 50
        # verum: 40
      proper_bonus: 50
      repack_bonus: 50
    # cutoff: 350     # Stop upgrading at this score
    # min_score: 100  # Reject files below this score

  ####################################################################
  # FILE WATCHER - React to filesystem events (optional)
  ####################################################################
  file_watcher:
    enabled: false
    ignore:
      - "*.part"
      - "*.tmp"
    debounce_seconds: 5

  ####################################################################
  # DESTINATION TEMPLATES
  ####################################################################
  destination:
    root_template: "{show_title}"
    season_dir_template: "{season_number:02d} {season_title}"
    episode_template: "{show_title} - S{season_number:02d}E{episode_number:02d} - {episode_title}.{extension}"


######################################################################
# SPORTS - Override defaults or add custom sports (optional)
######################################################################
# Most users don't need this! All sports auto-load from pattern_templates.yaml
# Use only to: override settings, add custom sports, or replace defaults

sports: []
  # Example: Override F1 quality preferences
  # - id: formula1
  #   quality_profile:
  #     enabled: true
  #     scoring:
  #       release_group:
  #         mwr: 100
  #         smcgill1969: 80

  # Example: Add a custom sport
  # - id: my_sport
  #   name: My Sport
  #   show_slug: "my-sport-2025"
  #   source_globs: ["MySport.*"]
  #   pattern_sets: [my_sport]
